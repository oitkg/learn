# 字符编码

## 1.字符集

美国定义了ASCII，用ASCII这样的数字代表文字符号的规范，就称为字符集。中国定义了另外的一条规范，使用GB2312、GBK、GB18030作为自己的字符集，还有其他的许多国家都定义了自己国家的字符集，但是如果一篇文章出现了许多的语言，就无法正常的去表示，所以国际上定义了unicode字符集。

## 2.字符编码

计算机是以**字节**为单位来存储和传输数据的，**一个字节**由**8位二进制数字**表示，最多可以表示从0到255， 一共256个字符。

unicode字符集有成千上万的文字符号，一个字节远远不能去表示，这就有需要另外的规范。这些 **如何用字节表示字符对应的数字** 就是 **字符编码** 规范

## 3.字符串编码

python3中的字符串对象是unicode字符串，要对这些字符串进行存储和传输通常使用字符串的方法encode，来指定编码的方式，编码为一个字节（bytes）对象。

encode方法返回的是编码后的字符串对象bytes（字节）。就可以存储到文件中或者在网络中进行传输。

## 4.字符串解码

从文件中读取入的文字信息，从网络中接受到的文字信息，这些数据通常是使用编码后的字符串。通常需要对这些字符串进行解码，解码后的字符串才方便程序进行处理。

要解码字符串，必须知道这个字符串采用什么编码方式进行编码的，通常使用字符串对象的方法decode，对字符串进行解码。

## 5.一些字符串的编码技巧

### 1.unicode数字转化为字符

使用chr()函数，数字--->字符

```python
>>> chr(50)
'2'
>>> chr(20013)
'中'
>>> chr(0x4e2d)  # 0x开头表示数字是16进制
'中'
```

### 2.字符转换为unicode数字

使用ord()函数，字符--->数字

```python
>>> ord('2')
50
>>> ord('中')
20013
```

### 3.字符串编码为 unicode转义数字

一种常见的编码方式，叫做 `unicode-escape` ，就是直接用unicode数字字符串表示字符

```python
>>> '白月黑羽'.encode('unicode-escape')
b'\\u767d\\u6708\\u9ed1\\u7fbd'
```

### 4.用unicode转义数字 写字符串

```python
>>> '\u767d\u6708\u9ed1\u7fbd'
'白月黑羽'
```

### 5.直接用16进制数字创建 bytes

```python
>>> b'\xb0\xd7\xd4\xc2\xba\xda\xd3\xf0'
b'\xb0\xd7\xd4\xc2\xba\xda\xd3\xf0'
>>> b'\xb0\xd7\xd4\xc2\xba\xda\xd3\xf0'.decode('gbk')
'白月黑羽'
```

### 6.字节串 和 16进制表示字节的字符串

**hex()** 函数用于将10进制整数转换成16进制，以字符串形式表示。

```python
>>> a = b'hello,123'
>>> a.hex()
'68656c6c6f2c313233'
```

反向操作，把 16进制表示字节的字符串 转化为 字节串就是

```python
>>> bytes.fromhex('68656c6c6f2c313233')
b'hello,123'
```

