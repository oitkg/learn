# 07.字符串相关知识和正则表达式



## 1.字符串的常用操作

字符串的拼接(不可以进行字符串和非字符串的连接)

```
a = "hello"
b = "python"
a + "-" + b
返回值为"hello-python"

a = "hello"
b = 123
a + b
报错

a + str(b)
返回值为"hello123"
```

字符串长度计算

```
a = "hello"
len(a)
返回值为5

len("人生苦短，我用python")  # 中文字符串长度计算别有洞天
返回值为13
```

字符串的截取索引

```
a = "hello"
a[1]
返回值为"e"

a[-2]
返回值为"l"

a[1:3]
返回值为"el"
```

字符串的分割和连接

```python
"1 2 3 4 5".split()  # split默认以空白符(不管几个都默认为1个)进行分割
返回值为["1","2","3","4","5"]  # 返回列表

"1,2,3,4,5".split(",")  # split()可以修改参数进行跟个分割
回值为["1","2","3","4","5"]  # 返回列表

"#".join(["1","2","3","4","5"])  # 列表中的每个元素之间都用#相连，join()的参数是列表
返回值为"1#2#3#4#5"  # 返回字符串
```

字符串的检索

```python
a = "hello"
a.count("e")  # 查找子字符串在字符串中的出现的次数
返回值为：1

find("e")  # 查找子字符串第一个在字符串中出现的位置
返回值：索引值1
find("ll")
返回值：2
find("a")  # 查找的子字符串不在字符串中
返回值：-1
a.index("l")  # 查找子字符串第一个在字符串中出现的位置
返回值:2
a.index("a")
报错  # 这是index和find的区别
a.rindex("l")
返回值：3  # 从右往左查找时对应的索引值
a.startwith("hel")  # 判断字符串是否以子字符串开头
返回值：Ture  # 返回值为布尔类型
a.endwith("lo")  #  判断字符串是否以子字符串结尾
返回值：Ture
```

大小写转换

```python
a.upper()  # 小写转换为大写
返回值为"HELLO"
a.lower()  # 大写转换为小写
```

除空格和特殊字符

```python
"   hello   ".strip()   # 去除字符串中的空白符
返回值："hello"
"   hello   ".lstrip()  # 去除字符串中左边的空白符
"   hello   ".rstrip()  # 去除字符串中右边的空白符  
"###hello#   ".strip("#")  # 去除字符串中的#
"###hello#   "。lstrip("#")  # 去除字符串中左边的#
```



## 2.字符编码转换

常见编码方式类型：utf-8（python默认编码方式）、GBK、GB2312(用来显示中文)

encode()方法：字符串str-->字节流bytes （去写入文件或文件的传输）

decode()方法：字节流bytes-->字符串str（对文件进行解码，生成我们能够识别的字符串）

```
a = "人生苦短，我用python"
len(a)
返回值：13
a.encode()
返回值：b'\xe4\xba\xba\xe7\x94\x9f\xe8\x8b\xa6\xe7\x9f\xad\xef\xbc\x8c\xe6\x88\x91\xe7\x94\xa8python'
a.encode("GBK")
返回值：b'\xc8\xcb\xc9\xfa\xbf\xe0\xb6\xcc\xa3\xac\xce\xd2\xd3\xc3python'
len(a.encode())
返回值：27
len(a.encode("GBK"))
返回值：20
a.encode().decode("GBK")
返回值：'浜虹敓鑻︾煭锛屾垜鐢╬ython'
```

注意：

1.utf-8编码方式可以存储更多的内容，所以常用。

2.用什么编码方式进行编码就应该用什么方式进行解码，否则容易出现乱码。

## 3.格式化输出

概念：按照模板进行输出或者便于用户阅读（%  和   format）

```python
"这是一个新的字符串，这有一个数字 %d，这是一个新的字符串 %s，这是一个新的字符串 %f" % (10,"abc",1.3333)
返回值：'这是一个新的字符串，这有一个数字 10，这是一个新的字符串 abc，这是一个新的字符串 1.333300'
"这是一个新的字符串，这有一个数字 %d" % 1
返回值："这是一个新的字符串，这有一个数字 1"
"这是一个新的字符串，这有一个数字 %08d" % 1  # 8位数，1前面用0填充
返回值："这是一个新的字符串，这有一个数字 00000001" 
"这是一个新的字符串，这有一个浮点数 %f" % 1.666666
返回值："这是一个新的字符串，这有一个浮点数 1.666666
"这是一个新的字符串，这有一个浮点数 %.2f" % 1.666666  # 小数点后保留两位小数
返回值："这是一个新的字符串，这有一个浮点数 1.67" 
"这是一个新的字符串，这有一个浮点数 %05.2f" % 1.666666  # 算上小数点共5位数，小数点后保留两位小数
返回值："这是一个新的字符串，这有一个浮点数 01.67"

"这是一个新的字符串，这有一个数字 {}，这是一个新的字符串 {}，这是一个新的字符串 {}".format(10,"abc",666666)  # {}充当占位符，有几个占位符format()就应输入几个参数
"这是一个新的字符串，这有一个数字 10，这是一个新的字符串 abc，这是一个新的字符串 666666"

"我是一个金额的表示方式：{}".format(10000)
返回值："我是一个金额的表示方式：10000"
"我是一个金额的表示方式：{:,.2f}元".format(10000)  # :表示参数的开始  表示用,进行分割  小数点后保留两位
返回值：'我是一个金额的表示方式：10,000.00'
"{0:d}的十六进制是{0:#x}".format(100)  # 0表示参数索引，d表示十进制数值，#x表示16进制的数值
返回值：'100的十六进制是0x64'
```



## 4.正则表达式

```python
improt re  
a = "123456"
b = "234521"
re.match(r"\d{6}", a)  # r代表模式，\d代表数字，{6}代表6位数字  （判断字符串是否为6位数字）
d = "8012345"
re.match(r"^8\d{5}$",d)  #^$表示从字符串的开头到结尾，\d表示数字，{5}表示5位数字（判断字符串是否是工号）
f = "13902304542" 
re.match(r"^1[3456789]\d{9}$",f)  #[23456789]第二位可能出现的数字，\d表示数字，{9}表示9位数字（判断该字符串是否为手机号）
re.match(r"^1[^012]\d{9}$",f)  #[^012]第二位不包括012，\d表示数字，{9}表示9位数字（判断该字符串是否为手机号）
```

